plugins {
    id 'guru.zoroark.tegral.kotlin-published-library-conventions'
    id 'application'
    id 'com.gradleup.shadow'
}

dependencies {
    implementation project(":tegral-utils:tegral-utils-logtools")
    implementation project(":tegral-di:tegral-di-core")
    implementation project(":tegral-niwen:tegral-niwen-parser")
    implementation project(":tegral-niwen:tegral-niwen-lexer")
    implementation libs.logback
    implementation libs.jackson.kotlin
    implementation libs.exposed.core
    implementation libs.exposed.dao
    implementation libs.exposed.javatime
    implementation libs.kotlinPoet

    testImplementation libs.jimfs
}

application {
    mainClass = "guru.zoroark.tegral.prismakt.generator.MainKt"
}

ext.humanName = "Tegral PrismaKT Generator"
ext.description = "A Prisma generator for writing JetBrains Exposed tables & entities"
ext.url = "https://tegral.zoroark.guru/docs/modules/core/prismakt"

jar {
    manifest {
        attributes.put("Main-Class", "guru.zoroark.tegral.prismakt.generator.MainKt")
    }
}
